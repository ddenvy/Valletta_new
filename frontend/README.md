# Valletta CRM Frontend

Современный фронтенд для CRM-системы Valletta, построенный на базе Next.js с использованием лучших практик 2025 года.

## Технологии

- **Next.js 14** - React-фреймворк с поддержкой Server Components
- **TypeScript** - типизация кода
- **Tailwind CSS** - утилитарный CSS-фреймворк
- **OAuth 2.1 с PKCE** - современный стандарт авторизации

## Архитектура

Проект построен с использованием современных подходов к разработке фронтенда:

### App Router

- Использование нового роутера Next.js (App Router)
- Server Components для оптимизации производительности
- Клиентские компоненты для интерактивности

### Авторизация

- Реализация OAuth 2.1 с PKCE для безопасной аутентификации
- Защищенные маршруты с проверкой прав доступа
- HTTP-only cookies для хранения refresh токенов

### Интеграция с API

- Типизированные API-клиенты
- Автоматическое обновление токенов
- Обработка ошибок и повторные запросы

### Компонентная структура

- Атомарный дизайн компонентов
- Разделение на презентационные и контейнерные компоненты
- Переиспользуемые компоненты UI

## Запуск проекта

### Требования

- Node.js 18+
- npm или yarn

### Локальная разработка

1. Клонировать репозиторий
2. Установить зависимости: `npm install`
3. Создать файл `.env.local` на основе `.env.example`
4. Запустить в режиме разработки: `npm run dev`

### Сборка для продакшена

```bash
npm run build
npm start
```

### Docker

```bash
docker-compose up -d
```

## Структура проекта

```
frontend/
├── app/                  # App Router страницы
├── components/           # Компоненты
│   ├── auth/             # Компоненты авторизации
│   ├── layout/           # Компоненты макета
│   └── ui/               # UI компоненты
├── lib/                  # Утилиты и хелперы
├── services/             # Сервисы для работы с API
├── types/                # TypeScript типы
└── utils/                # Вспомогательные функции
```

## Интеграция с бэкендом

Фронтенд взаимодействует с API через:

- Axios для HTTP-запросов
- Типизированные клиенты для API
- Server Components для чувствительных данных
- ISR (Incremental Static Regeneration) для кэширования 